{"version":3,"sources":["public/js/register.js"],"names":["registerForm","document","getElementById","addEventListener","event","preventDefault","name","querySelector","value","username","email","password","userDetails","registerOptions","createOptions","registerUser","options","response","fetch","data","json","status","innerHTML","msg","linkDiv","linkToLogin","createElement","href","classList","code","submitBtn","style","display","appendChild","method","mode","headers","body","JSON","stringify"],"mappings":"AAAA,MAAMA,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAArB;AAEAF,YAAY,CAACG,gBAAb,CAA8B,QAA9B,EAAwCC,KAAK,IAAI;AAC/CA,EAAAA,KAAK,CAACC,cAAN;AACA,QAAMC,IAAI,GAAGL,QAAQ,CAACM,aAAT,CAAuB,YAAvB,EAAqCC,KAAlD;AACA,QAAMC,QAAQ,GAAGR,QAAQ,CAACM,aAAT,CAAuB,gBAAvB,EAAyCC,KAA1D;AACA,QAAME,KAAK,GAAGT,QAAQ,CAACM,aAAT,CAAuB,YAAvB,EAAqCC,KAAnD;AACA,QAAMG,QAAQ,GAAGV,QAAQ,CAACM,aAAT,CAAuB,gBAAvB,EAAyCC,KAA1D;AAEA,QAAMI,WAAW,GAAG;AAAEN,IAAAA,IAAF;AAAQG,IAAAA,QAAR;AAAkBC,IAAAA,KAAlB;AAAyBC,IAAAA;AAAzB,GAApB;AACA,QAAME,eAAe,GAAGC,aAAa,CAACF,WAAD,CAArC;AACAG,EAAAA,YAAY,CAACF,eAAD,CAAZ;AACD,CAVD;;AAYA,eAAeE,YAAf,CAA4BC,OAA5B,EAAqC;AACnC,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B,sDAD0B,EAE1BF,OAF0B,CAA5B;AAIA,QAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AAEA,QAAMC,MAAM,GAAGpB,QAAQ,CAACM,aAAT,CAAuB,kBAAvB,CAAf;AACAc,EAAAA,MAAM,CAACC,SAAP,GAAmBH,IAAI,CAACI,GAAxB;AAEA,QAAMC,OAAO,GAAGvB,QAAQ,CAACM,aAAT,CAAuB,kBAAvB,CAAhB;AAEA,QAAMkB,WAAW,GAAGxB,QAAQ,CAACyB,aAAT,CAAuB,GAAvB,CAApB;AACAD,EAAAA,WAAW,CAACE,IAAZ,GAAmB,YAAnB,CAbmC,CAaF;;AACjCF,EAAAA,WAAW,CAACH,SAAZ,GAAwB,kBAAxB,CAdmC,CAcS;;AAC5CG,EAAAA,WAAW,CAACG,SAAZ,GAAwB,WAAxB;;AACA,MAAIT,IAAI,CAACU,IAAL,KAAc,GAAlB,EAAuB;AACrBR,IAAAA,MAAM,CAACO,SAAP,GAAmB,+CAAnB;AAEA,UAAME,SAAS,GAAG7B,QAAQ,CAACM,aAAT,CAAuB,0BAAvB,CAAlB;AACAuB,IAAAA,SAAS,CAACC,KAAV,CAAgBC,OAAhB,GAA0B,MAA1B;AACAR,IAAAA,OAAO,CAACS,WAAR,CAAoBR,WAApB;AACAD,IAAAA,OAAO,CAACI,SAAR,GAAoB,uCAApB;AACD,GAPD,MAOO;AACLP,IAAAA,MAAM,CAACO,SAAP,GAAmB,mCAAnB;AACD;AACF,EAED;;;AACA,SAASd,aAAT,CAAuBK,IAAvB,EAA6B;AAC3B,QAAMH,OAAO,GAAG;AACdkB,IAAAA,MAAM,EAAE,MADM;AAEdC,IAAAA,IAAI,EAAE,MAFQ;AAGdC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAHK;AAMdC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAepB,IAAf;AANQ,GAAhB;AAQA,SAAOH,OAAP;AACD","file":"register.76259f52.js","sourceRoot":"..\\src","sourcesContent":["const registerForm = document.getElementById(\"registerForm\");\r\n\r\nregisterForm.addEventListener(\"submit\", event => {\r\n  event.preventDefault();\r\n  const name = document.querySelector(\"#user_name\").value;\r\n  const username = document.querySelector(\"#user_username\").value;\r\n  const email = document.querySelector(\"#user_mail\").value;\r\n  const password = document.querySelector(\"#user_password\").value;\r\n\r\n  const userDetails = { name, username, email, password };\r\n  const registerOptions = createOptions(userDetails);\r\n  registerUser(registerOptions);\r\n});\r\n\r\nasync function registerUser(options) {\r\n  const response = await fetch(\r\n    \"http://balticrimdataportal.eu:3000/api/user/register\",\r\n    options\r\n  );\r\n  const data = await response.json();\r\n\r\n  const status = document.querySelector(\"#register-status\");\r\n  status.innerHTML = data.msg;\r\n\r\n  const linkDiv = document.querySelector(\"#link-login-page\");\r\n\r\n  const linkToLogin = document.createElement(\"a\");\r\n  linkToLogin.href = \"login.html\"; // Insted of calling setAttribute\r\n  linkToLogin.innerHTML = \"Go to login page\"; // <a>INNER_TEXT</a>\r\n  linkToLogin.classList = \"font-dark\";\r\n  if (data.code === 200) {\r\n    status.classList = \"teal lighten-2 text-box card-panel text-white\";\r\n\r\n    const submitBtn = document.querySelector(\"#submit-button-container\");\r\n    submitBtn.style.display = \"none\";\r\n    linkDiv.appendChild(linkToLogin);\r\n    linkDiv.classList = \"waves-effect waves-light btn btn-wide\";\r\n  } else {\r\n    status.classList = \"red lighten-2 text-box card-panel\";\r\n  }\r\n}\r\n\r\n//Managing post options\r\nfunction createOptions(data) {\r\n  const options = {\r\n    method: \"POST\",\r\n    mode: \"cors\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify(data)\r\n  };\r\n  return options;\r\n}\r\n"]}